#!/bin/bash
#
# ~/.xprofile

# ENV variable needed by X window
# --------------------------------

# Needed by Intellij to open the window correctly
export _JAVA_AWT_WM_NONREPARENTING=1

# Used for Java AWT UI settings
# export _JAVA_OPTIONS="-Dawt.useSystemAAFontSettings=on -Dswing.aatext=true ${_JAVA_OPTIONS}"

export SUDO_ASKPASS=$HOME/.local/bin/dpass.sh

# --------------------------------

# Set the display color temperature
# Values can be from 1000-10000
temperature=2500
echo ${temperature} >/tmp/DISPLAY_TEMPERATURE
sct $temperature

# Set the keyboard repeat and delay
xset r rate 200 100

# Disable sleep
xset -dpms
xset s off

# Remap caps lock to escape
setxkbmap -option caps:escape

# Remap alt to win
# setxkbmap -option altwin:swap_alt_win

# Remap F13 to PrintScreen
# Remap F14 to Scroll Lock
# Remap F15 to Pause
setxkbmap -option "apple:alupckeys"
setxkbmap -option "altwin:swap_alt_win"

# Configure US and RU keyboard layouts
setxkbmap -model pc105 -layout us,ru -variant ,phonetic_winkeys -option 'grp:alt_caps_toggle'

# Disable touchscreen
xinput disable "$(xinput list --name-only | grep -i 'Touchscreen')"

# Swap mouse for left handed
# xmodmap -e "pointer = 3 2 1 4 5 6 7 8 9 10"
xinput set-prop "$(xinput list --name-only | grep -i 'TrackPoint')" "libinput Left Handed Enabled" 1
xinput set-prop "$(xinput list --name-only | grep -i 'Logitech')" "libinput Left Handed Enabled" 1

# Enable Thinkpad touchpad click
xinput set-prop "$(xinput list --name-only | grep -i 'Touchpad')" "libinput Tapping Enabled" 1
xinput set-prop "$(xinput list --name-only | grep -i 'Touchpad')" "libinput Click Method Enabled" 0 1

# Enable Thinkpad Natural Scrolling
xinput set-prop "$(xinput list --name-only | grep -i 'Touchpad')" "libinput Natural Scrolling Enabled" 1
xinput set-prop "$(xinput list --name-only | grep -i 'TrackPoint')" "libinput Natural Scrolling Enabled" 1
xinput set-prop "$(xinput list --name-only | grep -i 'Logitech')" "libinput Natural Scrolling Enabled" 1

